<Window x:Class="ModSyncTool.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:ModSyncTool.Converters"
        Title="Mod 同步器"
        Background="{DynamicResource WindowBackgroundBrush}"
                                Height="420"
                                Width="760"
                                MinWidth="640"
        WindowStartupLocation="CenterScreen">
  <Window.Resources>
                <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />
                <converters:StringNullOrEmptyToVisibilityConverter x:Key="StringNullOrEmptyToVisibilityConverter" />
  </Window.Resources>
        <Grid Margin="20">
                <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                </Grid.RowDefinitions>
    <TextBlock Grid.Row="0"
               FontSize="16"
               FontWeight="SemiBold"
               TextWrapping="Wrap"
               Text="{Binding StatusText}" />
                <TextBlock Grid.Row="1"
                                                         Margin="0,8,0,0"
                                                         Foreground="{DynamicResource AccentBrush}"
                                                         TextWrapping="Wrap"
                                                         Visibility="{Binding NotificationText, Converter={StaticResource StringNullOrEmptyToVisibilityConverter}}"
                                                         Text="{Binding NotificationText}" />
                <ProgressBar Grid.Row="2"
                 Height="20"
                 Margin="0,16,0,0"
                 Minimum="0"
                 Maximum="100"
                 Value="{Binding ProgressValue, Mode=OneWay}"
                 Visibility="{Binding IsProgressVisible, Converter={StaticResource BoolToVisibilityConverter}}" />
                <!-- 使用 WrapPanel 自适应布局按钮，确保窗口较窄时自动换行 -->
                <WrapPanel Grid.Row="3"
                                                         HorizontalAlignment="Center"
                                                         Margin="0,24,0,0">
                              <Button Content="更新并启动"
                                      Style="{StaticResource PrimaryButton}"
                                                        MinWidth="150"
                                                        Height="44"
                                                        Margin="8"
                                                        Command="{Binding UpdateAndLaunchCommand}"
                                                        IsEnabled="{Binding IsUpdateEnabled}" />
                        <Button Content="管理本地文件"
                                      Style="{StaticResource SecondaryButton}"
                                                        MinWidth="150"
                                                        Height="44"
                                                        Margin="8"
                                                        Command="{Binding OpenLocalFilesCommand}"
                                                        IsEnabled="{Binding IsManageLocalEnabled}" />
                        <Button Content="设置"
                                      Style="{StaticResource SecondaryButton}"
                                                        MinWidth="120"
                                                        Height="44"
                                                        Margin="8"
                                                        Command="{Binding OpenSettingsCommand}" />
                        <Button Content="管理 (发布工具)"
                                      Style="{StaticResource SecondaryButton}"
                                                        MinWidth="170"
                                                        Height="44"
                                                        Margin="8"
                                                        Command="{Binding OpenManifestGeneratorCommand}" />
                </WrapPanel>
  </Grid>
</Window>
