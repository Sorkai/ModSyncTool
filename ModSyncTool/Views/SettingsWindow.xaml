<Window x:Class="ModSyncTool.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="设置"
  Background="{DynamicResource WindowBackgroundBrush}"
        Height="420"
        Width="520"
        WindowStartupLocation="CenterOwner">
  <Grid Margin="16">
    <Grid.RowDefinitions>
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>
    <TabControl>
      <TabItem Header="常规设置">
        <StackPanel Margin="12">
          <TextBlock Text="启动程序" Style="{StaticResource TitleText}" />
          <DockPanel Margin="0,6,0,16">
            <TextBox Text="{Binding LaunchExecutable, UpdateSourceTrigger=PropertyChanged}" MinWidth="320" DockPanel.Dock="Left" />
            <Button Content="浏览..." Width="96" Margin="8,0,0,0" Style="{StaticResource SecondaryButton}" Click="OnBrowseLaunchExecutable" />
          </DockPanel>
          <TextBlock Text="远程配置链接" Style="{StaticResource TitleText}" />
          <TextBox Text="{Binding UpdateUrl, UpdateSourceTrigger=PropertyChanged}" Margin="0,6,0,0" />
        </StackPanel>
      </TabItem>
      <TabItem Header="下载设置">
        <StackPanel Margin="12">
          <CheckBox Content="自定义下载设置" IsChecked="{Binding IsCustomDownloadSettings}" />
          <StackPanel Margin="16,12,0,0" IsEnabled="{Binding IsCustomDownloadSettings}">
            <CheckBox Content="启用多文件并发下载" IsChecked="{Binding EnableMultiFileDownload}" />
            <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
              <TextBlock Text="最大并发文件数" VerticalAlignment="Center" Width="150" />
              <TextBox Text="{Binding MaxConcurrentFiles, UpdateSourceTrigger=PropertyChanged}" Width="80" />
            </StackPanel>
            <CheckBox Content="启用单文件多线程下载" IsChecked="{Binding EnableMultiThreadDownload}" Margin="0,8,0,0" />
            <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
              <TextBlock Text="单文件线程数" VerticalAlignment="Center" Width="150" />
              <TextBox Text="{Binding ThreadsPerFile, UpdateSourceTrigger=PropertyChanged}" Width="80" />
            </StackPanel>
          </StackPanel>
          <CheckBox Content="忽略 SSL 证书错误" IsChecked="{Binding IgnoreSslErrors}" Margin="0,16,0,0" />
        </StackPanel>
      </TabItem>
    </TabControl>
    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
      <Button Content="保存" Width="110" Margin="0,0,8,0" Style="{StaticResource PrimaryButton}" Command="{Binding SaveCommand}" />
      <Button Content="取消" Width="110" Style="{StaticResource SecondaryButton}" Command="{Binding CancelCommand}" />
    </StackPanel>
  </Grid>
</Window>
